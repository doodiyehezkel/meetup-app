(this["webpackJsonpmeetup-app"]=this["webpackJsonpmeetup-app"]||[]).push([[0],{13:function(e,t,n){e.exports={item:"MeetupItem_item__3Tymx",image:"MeetupItem_image__1EpSx",content:"MeetupItem_content__IGYL6",active:"MeetupItem_active__2WaD8",actions:"MeetupItem_actions__14cce"}},15:function(e,t,n){e.exports={header:"MainNavigation_header__nXhUY",logo:"MainNavigation_logo__oxchZ",active:"MainNavigation_active__171Ve",badge:"MainNavigation_badge__1ohqB"}},21:function(e,t,n){e.exports={main:"Layout_main__1ewlX"}},24:function(e,t,n){e.exports={card:"Card_card__3ZpJQ"}},25:function(e,t,n){e.exports={list:"MeetupList_list__3HCqU"}},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(20),i=n.n(r),a=(n(32),n(2)),s=n(21),o=n.n(s),l=n(7),d=n(15),j=n.n(d),u=n(26),b=n(12),p=n(0),h=Object(c.createContext)({favorites:[],totalFavorites:0,addFavoriteHandler:function(e){},removeFavoriteHandler:function(e){},itemIsFavoriteHandler:function(e){}}),O=function(e){var t=localStorage.getItem("userFavorites"),n=Object(c.useState)(null!==t?JSON.parse(t):[]),r=Object(b.a)(n,2),i=r[0],a=r[1];Object(c.useEffect)((function(){localStorage.setItem("userFavorites",JSON.stringify(i))}),[i]);var s={favorites:i,totalFavorites:i.length,addFavoriteHandler:function(e){a((function(t){return[].concat(Object(u.a)(t),[e])}))},removeFavoriteHandler:function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsFavoriteHandler:function(e){return i.some((function(t){return t.id===e}))}};return Object(p.jsx)(h.Provider,{value:s,children:e.children})},m=function(){var e=Object(c.useContext)(h);return Object(p.jsxs)("header",{className:j.a.header,children:[Object(p.jsx)("div",{className:j.a.logo,children:"Meetup App"}),Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/",children:"All Meetups"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/new-meetup",children:"Add New Meetups"})}),Object(p.jsx)("li",{children:Object(p.jsxs)(l.b,{to:"/favorites",children:["My Favorites ",Object(p.jsx)("span",{className:j.a.badge,children:e.totalFavorites})]})})]})})]})},x=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m,{}),Object(p.jsxs)("main",{className:o.a.main,children:[" ",e.children," "]})]})},f=n(27),v=n(24),_=n.n(v),g=function(e){return Object(p.jsx)("div",{className:_.a.card,children:e.children})},F=n(13),N=n.n(F),M=function(e){var t=Object(c.useContext)(h),n=t.itemIsFavoriteHandler(e.id);return Object(p.jsx)(g,{children:Object(p.jsxs)("li",{children:[Object(p.jsx)("div",{className:N.a.image,children:Object(p.jsx)("img",{src:e.image,alt:e.title})}),Object(p.jsxs)("div",{className:N.a.content,children:[Object(p.jsx)("h3",{children:e.title}),Object(p.jsx)("address",{children:e.address}),Object(p.jsx)("p",{children:e.description})]}),Object(p.jsx)("div",{className:n?N.a.active:N.a.actions,children:Object(p.jsx)("button",{onClick:function(){n?t.removeFavoriteHandler(e.id):t.addFavoriteHandler(e)},children:n?"Remove Favorite":"Add To Favorite"})})]})})},y=n(25),I=n.n(y),H=function(e){return Object(p.jsx)("ul",{className:I.a.list,children:e.meetupList.map((function(e){return Object(p.jsx)(M,{id:e.id,address:e.address,description:e.description,image:e.image,title:e.title},e.id)}))})},S=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(b.a)(i,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){fetch("https://meetup-app-a4818-default-rtdb.firebaseio.com/meetups.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e){var c=Object(f.a)({id:n},e[n]);t.push(c)}r(t),o(!0)}))}),[]),!1===s?Object(p.jsx)("p",{children:"Loading..."}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"All Meetups"}),Object(p.jsx)(H,{meetupList:n})]})},w=function(){var e=Object(c.useContext)(h);return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Favorites"}),0===e.totalFavorites?Object(p.jsx)("h3",{children:" You dont have favorites yet :) "}):Object(p.jsx)(H,{meetupList:e.favorites})]})},A=n(9),C=n.n(A),L=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),r=Object(c.useRef)(null),i=Object(c.useRef)(null);return Object(p.jsx)(g,{children:Object(p.jsxs)("form",{className:C.a.form,onSubmit:function(c){c.preventDefault(),null!==t.current?null!==n.current?null!==r.current?null!==i.current?e.addMeetupHandler({title:t.current.value,image:n.current.value,address:r.current.value,description:i.current.value}):alert("description can't be empty"):alert("address can't be empty"):alert("image can't be empty"):alert("title can't be empty")},children:[Object(p.jsxs)("div",{className:C.a.control,children:[Object(p.jsx)("label",{htmlFor:"title",children:"Meetup Title"}),Object(p.jsx)("input",{type:"text",id:"title",required:!0,ref:t})]}),Object(p.jsxs)("div",{className:C.a.control,children:[Object(p.jsx)("label",{htmlFor:"image",children:"Meetup Image"}),Object(p.jsx)("input",{type:"text",id:"image",required:!0,ref:n})]}),Object(p.jsxs)("div",{className:C.a.control,children:[Object(p.jsx)("label",{htmlFor:"address",children:"Address"}),Object(p.jsx)("input",{type:"text",id:"address",required:!0,ref:r})]}),Object(p.jsxs)("div",{className:C.a.control,children:[Object(p.jsx)("label",{htmlFor:"description",children:"Description"}),Object(p.jsx)("textarea",{rows:5,id:"description",required:!0,ref:i})]}),Object(p.jsx)("div",{className:C.a.actions,children:Object(p.jsx)("button",{children:"Add Meetup"})})]})})},q=function(){var e=Object(a.f)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"New Meetup"}),Object(p.jsx)(L,{addMeetupHandler:function(t){fetch("https://meetup-app-a4818-default-rtdb.firebaseio.com/meetups.json",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(){e.replace("/")}))}})]})};var J=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(x,{children:Object(p.jsxs)(a.c,{children:[Object(p.jsx)(a.a,{path:"/",exact:!0,children:Object(p.jsx)(S,{})}),Object(p.jsx)(a.a,{path:"/new-meetup",children:Object(p.jsx)(q,{})}),Object(p.jsx)(a.a,{path:"/favorites",children:Object(p.jsx)(w,{})})]})})})};i.a.render(Object(p.jsx)(l.a,{children:Object(p.jsx)(O,{children:Object(p.jsx)(J,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={form:"NewMeetupForm_form__1nip8",control:"NewMeetupForm_control__11SeV",actions:"NewMeetupForm_actions__33Zt-"}}},[[39,1,2]]]);
//# sourceMappingURL=main.4075161b.chunk.js.map